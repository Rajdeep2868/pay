"use client"

import { useEffect, useRef, useState } from "react"
import { motion } from "framer-motion"

const chains = [
  { 
    name: "Ethereum", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <g fill="none" fillRule="evenodd">
          <circle cx="16" cy="16" r="16" fill="#627EEA"/>
          <g fill="#FFF" fillRule="nonzero">
            <path fillOpacity=".602" d="M16.498 4v8.87l7.497 3.35z"/>
            <path d="M16.498 4L9 16.22l7.498-3.35z"/>
            <path fillOpacity=".602" d="M16.498 21.968v6.027L24 17.616z"/>
            <path d="M16.498 27.995v-6.028L9 17.616z"/>
            <path fillOpacity=".2" d="M16.498 20.573l7.497-4.353-7.497-3.348z"/>
            <path fillOpacity=".602" d="M9 16.22l7.498 4.353v-7.701z"/>
          </g>
        </g>
      </svg>
    ) 
  },
  { 
    name: "Binance", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#F3BA2F"/>
        <path fill="#FFF" d="M11.17 17.16L16 12.32l4.83 4.84 2.75-2.74-7.58-7.58-7.58 7.58 2.75 2.74zM8.42 14.41l2.75-2.75-2.75-2.75-2.75 2.75 2.75 2.75zM20.83 11.66l2.75 2.75 2.75-2.75-2.75-2.75-2.75 2.75zM11.17 19.84L16 24.68l4.83-4.84 2.76 2.75-7.59 7.59-7.58-7.59 2.75-2.75zM16 19.83l-4.83-4.83-2.33 2.34L16 24.5l7.16-7.16-2.33-2.34L16 19.83z"/>
      </svg>
    ) 
  },
  { 
    name: "Polygon", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#8247E5"/>
        <path fill="#FFF" d="M21.092 12.693c-.369-.215-.848-.215-1.254 0l-2.955 1.724-2.005 1.155-2.954 1.724a1.19 1.19 0 0 1-1.254 0l-2.32-1.37a1.19 1.19 0 0 1-.627-1.05V11.12c0-.431.221-.829.627-1.049l2.32-1.37a1.19 1.19 0 0 1 1.254 0l2.32 1.37c.369.22.627.617.627 1.049v1.724l2.005-1.155v-1.724a1.21 1.21 0 0 0-.627-1.05l-4.325-2.524a1.19 1.19 0 0 0-1.254 0L6.395 8.964a1.248 1.248 0 0 0-.627 1.05v5.048c0 .431.221.83.627 1.049l4.363 2.525c.369.215.848.215 1.254 0l2.955-1.725 2.004-1.154 2.955-1.725a1.19 1.19 0 0 1 1.254 0l2.32 1.37c.37.22.627.618.627 1.05v2.756c0 .431-.22.83-.627 1.049l-2.32 1.37a1.19 1.19 0 0 1-1.254 0l-2.32-1.37a1.21 1.21 0 0 1-.627-1.05v-1.724l-2.004 1.155v1.724c0 .432.22.83.627 1.05l4.362 2.524c.37.215.848.215 1.254 0l4.363-2.525a1.21 1.21 0 0 0 .627-1.049v-5.048a1.21 1.21 0 0 0-.627-1.05l-4.362-2.524z"/>
      </svg>
    ) 
  },
  { 
    name: "Solana", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#000"/>
        <path d="M9.925 19.434a.627.627 0 0 1 .441-.183h14.821c.27 0 .405.325.213.517l-3.178 3.174a.627.627 0 0 1-.441.183H7.16c-.27 0-.405-.325-.213-.517l2.977-3.174zm0-9.8a.627.627 0 0 1 .441-.183h14.821c.27 0 .405.325.213.517l-3.178 3.174a.627.627 0 0 1-.441.183H7.16c-.27 0-.405-.325-.213-.517l2.977-3.174zm17.475 4.5a.627.627 0 0 0-.213-.517l-3.178-3.174a.627.627 0 0 0-.441-.183H7.16c-.27 0-.405.325-.213.517l3.178 3.174c.117.117.275.183.441.183h14.62c.27 0 .406-.326.213-.517z" fill="#00FFBD"/>
      </svg>
    ) 
  },
  { 
    name: "Avalanche", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#E84142"/>
        <path d="M20.31 8.1L16.02 15l-2.14-3.42zm.2 10.94h-4.28l-2.14 3.7h-3.85l6.24-10.95 6.5 10.95h-3.83z" fill="#FFF"/>
      </svg>
    ) 
  },
  { 
    name: "Cardano", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#0033AD"/>
        <path d="M16.13 22.76c-.93 0-1.68-.75-1.68-1.67 0-.64.36-1.2.89-1.47-.32-.38-.83-.62-1.4-.62-.99 0-1.8.8-1.8 1.79 0 .99.81 1.8 1.8 1.8.62 0 1.16-.32 1.48-.79.3.15.64.24 1 .24.22 0 .43-.04.63-.1a2.54 2.54 0 0 1-1.56-1.3c.09.7.69 1.12 1.4 1.12.78 0 1.41-.63 1.41-1.4 0-.24-.06-.47-.17-.67.13.04.27.06.42.06.78 0 1.41-.63 1.41-1.41 0-.68-.47-1.25-1.12-1.38.07.18.1.37.1.57 0 .93-.75 1.68-1.68 1.68-.65 0-1.22-.36-1.5-.9a1.4 1.4 0 0 0 .97 2.45zm0-4.91a1.4 1.4 0 0 0-1.4 1.4c0 .78.63 1.41 1.4 1.41.78 0 1.41-.63 1.41-1.4 0-.78-.63-1.41-1.4-1.41zm-3.37 2.17c-.62 0-1.12.5-1.12 1.12 0 .61.5 1.11 1.12 1.11a1.12 1.12 0 0 0 0-2.23zm6.74 0c-.62 0-1.12.5-1.12 1.12 0 .61.5 1.11 1.12 1.11.62 0 1.12-.5 1.12-1.11 0-.62-.5-1.12-1.12-1.12zm-9.83-1.05c-.56 0-1.02.46-1.02 1.02 0 .56.46 1.02 1.02 1.02s1.02-.46 1.02-1.02c0-.56-.46-1.02-1.02-1.02zm12.92 0c-.56 0-1.02.46-1.02 1.02 0 .56.46 1.02 1.02 1.02s1.02-.46 1.02-1.02c0-.56-.46-1.02-1.02-1.02zm-11.34-1.4a.93.93 0 0 0-.93.93c0 .51.42.93.93.93a.93.93 0 0 0 0-1.86zm9.75 0a.93.93 0 0 0-.93.93c0 .51.42.93.93.93a.93.93 0 0 0 0-1.86zm-7.38-3.54c-.4 0-.74.33-.74.74 0 .41.33.74.74.74.4 0 .74-.33.74-.74 0-.4-.33-.74-.74-.74zm5 0c-.4 0-.73.33-.73.74 0 .41.32.74.74.74.4 0 .74-.33.74-.74 0-.4-.33-.74-.74-.74zm-6.8-1.1a.67.67 0 0 0-.65.65c0 .36.3.65.65.65.37 0 .65-.3.65-.65a.66.66 0 0 0-.65-.66zm8.61 0a.67.67 0 0 0-.66.65c0 .36.3.65.66.65.36 0 .65-.3.65-.65a.66.66 0 0 0-.65-.66zm-4.3-1.02a.56.56 0 0 0-.56.56c0 .31.25.56.56.56.3 0 .55-.25.55-.56a.56.56 0 0 0-.56-.56z" fill="#FFF"/>
      </svg>
    ) 
  },
  { 
    name: "Polkadot", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#E6007A"/>
        <path d="M16 6.036c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-6.48 2.656c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm12.96 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-6.48 3.93c-1.463 0-2.648 1.186-2.648 2.65 0 1.464 1.185 2.648 2.649 2.648 1.463 0 2.648-1.184 2.648-2.649 0-1.463-1.185-2.648-2.648-2.648zm-7.155 2.817c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm14.31 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zM16 20.87c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm-6.48 2.656c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm12.96 0c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2z" fill="#FFF"/>
      </svg>
    ) 
  },
  { 
    name: "Tron", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#EF0027"/>
        <path d="M19.777 12.103L20.91 9.01 14.18 9l-6.585 10.118 5.056 3.12 7.35-10.134zm-6.204 7.444l-2.567-1.587 4.163-6.397 4.305-.004-5.901 7.988z" fill="#FFF"/>
      </svg>
    ) 
  },
  { 
    name: "Cosmos", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#2E3148"/>
        <path d="M16 5c-1.155 0-2.025.923-2.217 2.026A13.267 13.267 0 0 0 11.3 8.13c-.847-.847-1.92-.847-2.598-.17-.678.678-.678 1.75.17 2.599a13.085 13.085 0 0 0-1.105 2.482C6.825 13.233 6 14.198 6 15.352c0 1.155.825 2.12 1.767 2.312.239.867.627 1.695 1.105 2.482-.847.847-.847 1.92-.17 2.599.678.678 1.75.678 2.599-.17a13.267 13.267 0 0 0 2.482 1.105C13.974 24.64 14.845 25.56 16 25.56c1.155 0 2.026-.92 2.217-2.025a13.267 13.267 0 0 0 2.482-1.106c.847.847 1.92.847 2.599.17.678-.678.678-1.75-.17-2.599a13.085 13.085 0 0 0 1.105-2.482c.942-.191 1.767-1.157 1.767-2.311 0-1.155-.825-2.12-1.767-2.312a13.085 13.085 0 0 0-1.105-2.482c.847-.847.847-1.92.17-2.599-.678-.678-1.75-.678-2.599.17a13.267 13.267 0 0 0-2.482-1.105C18.026 5.923 17.155 5 16 5zm0 3.53a6.868 6.868 0 0 1 6.865 6.866A6.868 6.868 0 0 1 16 22.262a6.868 6.868 0 0 1-6.865-6.865A6.868 6.868 0 0 1 16 8.53zm0 1.834a5.033 5.033 0 0 0-5.032 5.033A5.033 5.033 0 0 0 16 20.427a5.033 5.033 0 0 0 5.032-5.032A5.033 5.033 0 0 0 16 10.365zm0 .688c2.4 0 4.344 1.944 4.344 4.344 0 2.4-1.944 4.344-4.344 4.344-2.4 0-4.344-1.944-4.344-4.344 0-2.4 1.944-4.344 4.344-4.344z" fill="#FFF"/>
      </svg>
    ) 
  },
  { 
    name: "Near", 
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="40" height="40">
        <circle cx="16" cy="16" r="16" fill="#000"/>
        <path d="M20.074 8.94c0 .275-.125.525-.325.7l-7.601 6.626-3.125 2.724c-.2.175-.45.275-.7.275s-.525-.1-.725-.3c-.2-.2-.326-.45-.326-.726V9.59c0-.275.125-.525.326-.7.2-.2.45-.274.725-.274.25 0 .5.074.7.274l11.05 9.625v.025zm.726-1.65L9.773 16.99v6.31c0 .276.125.55.325.726.2.2.45.3.725.3s.5-.1.7-.3l11.05-9.625c.2-.175.325-.45.325-.725 0-.275-.125-.525-.325-.7-.2-.2-.45-.274-.725-.274-.25 0-.5.074-.7.274L9.799 19.415v-5.6l10.976-7.25.025.025z" fill="#FFF"/>
      </svg>
    ) 
  }
]

export default function MultiChainCarousel() {
  const [width, setWidth] = useState(0)
  const carousel = useRef<HTMLDivElement>(null)

  useEffect(() => {
    if (carousel.current) {
      setWidth(carousel.current.scrollWidth - carousel.current.offsetWidth)
    }
  }, [])

  return (
    <section className="py-16 relative overflow-hidden">
      <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-900/10 via-background to-background z-0"></div>

      <div className="container mx-auto px-4 relative z-10">
        <div className="text-center mb-12">
          <h2 className="text-3xl font-bold mb-3">Multi-Chain Support</h2>
          <p className="text-foreground/80 max-w-2xl mx-auto">
            Seamless payments across all major blockchains
          </p>
        </div>

        <motion.div 
          ref={carousel} 
          className="cursor-grab overflow-hidden" 
          whileTap={{ cursor: "grabbing" }}
        >
          <motion.div
            className="flex gap-6"
            drag="x"
            dragConstraints={{ right: 0, left: -width }}
            initial={{ x: 0 }}
            animate={{ x: [-width, 0] }}
            transition={{
              repeat: Number.POSITIVE_INFINITY,
              repeatType: "mirror",
              duration: 30,
              ease: "linear",
            }}
          >
            {chains.map((chain, index) => (
              <motion.div
                key={index}
                className="min-w-[160px] min-h-[160px] bg-background/80 backdrop-blur-sm border border-border/60 rounded-xl p-4 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-all"
                whileHover={{
                  scale: 1.05,
                  boxShadow: "0 10px 30px -5px rgba(124,58,237,0.3)",
                  y: -8,
                }}
                transition={{
                  type: "spring",
                  stiffness: 400,
                  damping: 15
                }}
              >
                <div className="h-16 w-16 flex items-center justify-center">
                  {chain.icon}
                </div>
                <h3 className="text-lg font-medium text-center">{chain.name}</h3>
              </motion.div>
            ))}
          </motion.div>
        </motion.div>
      </div>
    </section>
  )
}

